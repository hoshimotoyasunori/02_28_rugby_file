<!DOCTYPE html>
<html lang="ja">

<head>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js'></script>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/lity/1.6.6/lity.css' />
    <script src='https://cdnjs.cloudflare.com/ajax/libs/lity/1.6.6/lity.js'></script>

    <link rel="stylesheet" href="lity.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="lity.min.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="index1.css">
    <title>Document</title>

</head>

<body class="is-slide" id="page-animate">

    <header class="head">
        <div class="gu-">
            <li id="gu_btn">RUN</li>
        </div>
        <!-- movie test -->
        <!-- ジャンケンの結果からの動画 -->
        <!-- <p><a href="../movie/run_myball1のコピー.mp4" class="pop" id="movie1" data-lity="data-lity"></a></p> -->
        <!-- <p><a href="../movie/run_enemyのコピー.mp4" class="pop" id="movie2" data-lity="data-lity"></a></p> -->
        <!-- <p><a href="../movie/sucrum_myのコピー.mp4" class="pop" id="movie3" data-lity="data-lity"></a></p> -->
        <!-- <p><a href="../movie/scrum_enemyのコピー.mp4" class="pop" id="movie4" data-lity="data-lity"></a></p> -->
        <!-- <p><a href="../movie/lineout_myのコピー.mp4" class="pop" id="movie5" data-lity="data-lity"></a></p> -->
        <!-- <p><a href="../movie/lineout_enemyのコピー.mp4" class="pop" id="movie6" data-lity="data-lity"></a></p> -->
        <!-- <p><a href="../movie/危険.mp4" class="pop" id="movie7" data-lity="data-lity"></a></p> -->
        <!-- <p><a href="../movie/キック成功のコピー.mp4" class="pop" id="movie8" data-lity="data-lity"></a></p> -->
        <video id="movie1" class="pop" src="movie/run_myball1.mp4" autoplay muted></video>
        <video id="movie2" class="pop" src="movie/run_enemy.mp4" autoplay muted></video>
        <video id="movie3" class="pop" src="movie/scrum_enemy.mp4" autoplay muted></video>
        <video id="movie4" class="pop" src="movie/sucrum_my.mp4" autoplay muted></video>
        <video id="movie5" class="pop" src="movie/lineout_my.mp4" autoplay muted></video>
        <video id="movie6" class="pop" src="movie/lineout_enemy.mp4" autoplay muted></video>
        <video id="movie7" class="pop" src="movie/kick.mp4" autoplay muted></video>
        <video id="movie8" class="pop" src="movie/again.mp4" autoplay muted></video>


        <!-- <div class="enemy" id="com_hand">相手は？</div>  -->
        <!-- <div class="enemy" id="judgement">結果は？</div> -->
    </header>
    <main>

        <div class="cho">
            <li id="cho_btn">SCRUM</li>
        </div>
        <div class="par">
            <li id="par_btn">LINEOUT</li>
        </div>
    </main>
    <footer>
        <article><a href="index.html" class="navigate-anchor">BACK</a></article>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script>
        // jQuery(function ($) {
        //     var movie = document.getElementById("movie1");
        //     movie.controls = false;
        // });
        // jQuery(function ($) {
        //     var movie = document.getElementById("movie2");
        //     movie.controls = false;
        // });
        // jQuery(function ($) {
        //     var movie = document.getElementById("movie3");
        //     movie.controls = false;
        // });
        // jQuery(function ($) {
        //     var movie = document.getElementById("movie4");
        //     movie.controls = false;
        // });
        // jQuery(function ($) {
        //     var movie = document.getElementById("movie5");
        //     movie.controls = false;
        // });
        // jQuery(function ($) {
        //     var movie = document.getElementById("movie6");
        //     movie.controls = false;
        // });
        // jQuery(function ($) {
        //     var movie = document.getElementById("movie7");
        //     movie.controls = false;
        // });
        // jQuery(function ($) {
        //     var movie = document.getElementById("movie8");
        //     movie.controls = false;
        // });


        // document.getElementById("movie1").style.display = "none";
        // document.getElementById("movie2").style.display = "none";
        // document.getElementById("movie3").style.display = "none";
        // document.getElementById("movie4").style.display = "none";
        // document.getElementById("movie5").style.display = "none";
        // document.getElementById("movie6").style.display = "none";

        let count = 0;
        /*設定１*/
        // 画面が読み込まれた時、is-slideを外し、アニメーションさせる
        $(window).on('load', function () {
            $('body').removeClass('is-slide');
        });

        $(function () {
            // ハッシュリンク(#)と別ウィンドウでページを開く場合は実行しない

            $('a:not([href^="#"]):not([target])').on('click', function (e) {
                e.preventDefault();         // ページ遷移を一旦キャンセル
                url = $(this).attr('href'); // 遷移先のURLを取得

                if (url !== '') {
                    $('body').addClass('is-slide-in'); // 画面遷移前のアニメーション is-slide-in

                    setTimeout(function () {
                        window.location = url;  // 0.5秒後に取得したURLに遷移
                    }, 500);
                }
                return false;
            });

        });
        // document.getElementById("movie").src = "../ラグビー/movie/Creux De Van - 45150.mp4";


        /*ジャンケンのscript*/
        $(function () {
            const result = ['グー', 'チョキ', 'パー'];
            $('#gu_btn').on('click', function () {
                // グー
                let rand = Math.floor(Math.random() * 3);
                console.log(rand);
                //コンピューターの手
                $('#com_hand').text('enemy:' + result[rand]);
                if (rand == 0) {
                    count = count + 1;
                    console.log(count)
                    // あいこの時
                    document.getElementById("movie8").style.display = "block";
                    console.log('drow');
                    $(function () {
                        var player = $('#movie8').get(0);	//videoタグの要素を取得
                        //動画の再生
                        //動画が終了したことを検出して発火する処理
                        player.addEventListener('ended', function () {
                            $('location').attr(href = "index1.html");	//videoタグをDOM的に削除
                        });
                    });
                    if (count == 3) {
                        // あいこが３回続いた時
                        document.getElementById("movie7").style.display = "block";
                        $(function () {
                            var player = $('#movie7').get(0);	//videoタグの要素を取得
                            //動画の再生
                            //動画が終了したことを検出して発火する処理
                            player.addEventListener('ended', function () {
                                $('location').attr(href = "index4.html");		//videoタグをDOM的に削除
                            });
                        });
                    }


                } else if (rand == 1) {
                    // 勝ちの時
                    document.getElementById("movie1").style.display = "block";
                    console.log('win');
                    $(function () {
                        var player = $('#movie1').get(0);	//videoタグの要素を取得
                        //動画の再生
                        //動画が終了したことを検出して発火する処理
                        player.addEventListener('ended', function () {
                            document.location.assign('index2.html');	//videoタグをDOM的に削除
                        });
                    });
                } else if (rand == 2) {
                    // 負けの時
                    document.getElementById("movie2").style.display = "block";
                    console.log('lose');
                    $(function () {
                        var player = $('#movie2').get(0);	//videoタグの要素を取得
                        //動画の再生
                        //動画が終了したことを検出して発火する処理
                        player.addEventListener('ended', function () {
                            document.location.assign('index3.html');		//videoタグをDOM的に削除
                        });
                    });
                } else {
                    console.log('エラー');
                }
            });
            $('#cho_btn').on('click', function () {
                //チョキ
                let rand = Math.floor(Math.random() * 3);
                console.log(rand);
                //コンピューターの手
                $('#com_hand').text('enemy:' + result[rand]);
                if (rand == 0) {
                    // 負けの時
                    document.getElementById("movie3").style.display = "block";
                    console.log('lose');
                    $(function () {
                        var player = $('#movie3').get(0);	//videoタグの要素を取得
                        player.play();	//動画の再生
                        //動画が終了したことを検出して発火する処理
                        player.addEventListener('ended', function () {
                            document.location.assign('index3.html');		//videoタグをDOM的に削除
                        });
                    });
                } else if (rand == 1) {
                    count = count + 1;
                    console.log(count)
                    // あいこの時
                    document.getElementById("movie8").style.display = "block";
                    console.log('drow');
                    $(function () {
                        var player = $('#movie8').get(0);	//videoタグの要素を取得
                        //動画の再生
                        //動画が終了したことを検出して発火する処理
                        player.addEventListener('ended', function () {
                            $('location').attr(href = "index1.html");	//videoタグをDOM的に削除
                        });

                        if (count == 3) {
                            // あいこが３回続いた時
                            document.getElementById("movie7").style.display = "block";
                            $(function () {
                                var player = $('#movie7').get(0);	//videoタグの要素を取得
                                //動画の再生
                                //動画が終了したことを検出して発火する処理
                                player.addEventListener('ended', function () {
                                    $('location').attr(href = "index4.html");		//videoタグをDOM的に削除
                                });
                            });
                        };
                    });

                } else if (rand == 2) {
                    // 勝ちの時
                    document.getElementById("movie4").style.display = "block";
                    console.log('win');
                    $(function () {
                        var player = $('#movie4').get(0);	//videoタグの要素を取得
                        player.play();	//動画の再生
                        //動画が終了したことを検出して発火する処理
                        player.addEventListener('ended', function () {
                            document.location.assign('index2.html');		//videoタグをDOM的に削除
                        });
                    });
                } else {
                    console.log('エラー');
                }
            });
            $('#par_btn').on('click', function () {
                //パー
                let rand = Math.floor(Math.random() * 3);
                console.log(rand);
                //コンピューターの手
                $('#com_hand').text('enemy:' + result[rand]);
                if (rand == 0) {
                    // 勝ちの時
                    document.getElementById("movie5").style.display = "block";
                    console.log('win');
                    $(function () {
                        var player = $('#movie5').get(0);	//videoタグの要素を取得
                        player.play();	//動画の再生
                        //動画が終了したことを検出して発火する処理
                        player.addEventListener('ended', function () {
                            document.location.assign('index2.html');		//videoタグをDOM的に削除
                        });
                    });
                } else if (rand == 1) {
                    // 負けの時
                    document.getElementById("movie6").style.display = "block";
                    console.log('lose');
                    $(function () {
                        var player = $('#movie6').get(0);	//videoタグの要素を取得
                        player.play();	//動画の再生
                        //動画が終了したことを検出して発火する処理
                        player.addEventListener('ended', function () {
                            document.location.assign('index3.html');		//videoタグをDOM的に削除
                        });
                    });
                } else if (rand == 2) {
                    count = count + 1;
                    console.log(count)
                    // あいこの時
                    document.getElementById("movie8").style.display = "block";
                    console.log('drow');
                    $(function () {
                        var player = $('#movie8').get(0);	//videoタグの要素を取得
                        //動画の再生
                        //動画が終了したことを検出して発火する処理
                        player.addEventListener('ended', function () {
                            $('location').attr(href = "index1.html");	//videoタグをDOM的に削除
                        });
                    });

                    if (count == 3) {
                        // あいこが３回続いた時
                        document.getElementById("movie7").style.display = "block";
                        $(function () {
                            var player = $('#movie7').get(0);	//videoタグの要素を取得
                            //動画の再生
                            //動画が終了したことを検出して発火する処理
                            player.addEventListener('ended', function () {
                                $('location').attr(href = "index4.html");		//videoタグをDOM的に削除
                            });
                        });
                    }
                } else {
                    console.log('エラー');
                }
            });
        });

    </script>

</body>

</html>